#include<stdio.h>
#include<string.h>
void display_userdef_func(char func_name[25]){
	printf("Name: Muhammad Huzaifa, id: 22k-4337, and User defined function called is: %s\n",func_name);

}
#define n 10
struct Students{
	char student_id[15];
	char name[25];
	float mid1;
	float mid2;
	float final;
	float assigment;
	float quiz;
}student[n];
//
//	int search(){ // Evaluation of an array
//	int i,pass;
//	char id[7];
//	printf("Enter Id: ");
//		scanf("%s",&id);		 
//	for(i=0; i<n; i++){
//		if(strcmp(student[i].student_id,id)== 0){
//			printf("The user Already Exsist");
//			pass = 0;
//				
//		}
//}
int search(char id [7]){
	int pass;
	for(int i =0; i<n;i++){
		if(strcmp(id,student[i].student_id)!=0){
			pass = 1;
			strcpy(student[i].student_id,id);
			break;
		}
		else{
		pass =0;
		printf("User already exsist\n");
		break;
			}
	}
	return pass;
	
}// End of search searches if any id is already entered.

int check(int i){
	float sum;
	sum = student[i].assigment + student[i].final + student[i].mid1 + student[i].mid2 + student[i].quiz;
	if(sum > 100){ // return o on true
	return 1;}
}

void getGpa(void){
	char  id[15];
	
	for(int i = 0; i<n;i++){
		retake:	
		printf("Enter User id: ");
		scanf("%s",id);
		if(search(id)==1){
			printf("Enter User name: ");
			scanf("%s",student[i].name);
				retakemarks:
			printf("Enter Mid 1 weightage of %s: ",student[i].name);
			scanf("%f",&student[i].mid1);
			printf("Enter Mid 2 weightage of %s: ",student[i].name);
			scanf("%f",& student[i].mid2);
			printf("Enter Quiz weightage of %s: ",student[i].name);
			scanf("%f",&student[i].quiz);
			printf("Enter Assigment weightage of %s: ",student[i].name);
			scanf("%f",&student[i].assigment);	
			printf("Enter Finals weightage of %s: ",student[i].name);
			scanf("%f",&student[i].final);	
			if(check(i) == 1){
				display_userdef_func("check");
				printf("Entered Marks cannot exceed 100, re-enter marks\n");
				goto retakemarks;
			}
		}
		
		else{
			display_userdef_func("search");
			goto retake;
		}
	}		
}

int main(){
	display_userdef_func("STUDENTS");
	printf("Populate student datails\n");
	getGpa();
}
